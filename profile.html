<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Headline</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script> 
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script> 
    
</head>
<body>
    <div class="container">
        <div class="card profile-header">
            <div class="profile-img-container" style="width: 80px; height: 80px; margin: 0 auto 10px;">
                <img id="profile-photo" src="" alt="Profile">
            </div>
            
            <h3 id="profile-name" class="profile-name">Loading...</h3>
            <p id="profile-username" class="profile-username">@username</p>
        </div>

        <div class="details-section card">
            <div class="title">Account Details</div>
            
            <div class="detail-item">
                <span class="detail-label">User ID</span>
                <span id="user-id" class="detail-value" style="font-size: 12px;">N/A</span>
            </div>

            <div class="detail-item">
                <span class="detail-label">Current Balance</span>
                <span class="detail-value">
                    <span id="current-balance-symbol">‡ß≥</span>
                    <span id="current-balance-value">0.00</span>
                    <span id="current-balance-code" class="currency-code-small">(BDT)</span>
                </span>
            </div>

            <div class="detail-item">
                <span class="detail-label">Total Points</span>
                <span class="detail-value">
                    <span id="total-points-count">0</span> Points 
                    <span style="font-size: 14px; color: #555;">(
                        <span id="total-points-value-symbol">‡ß≥</span>
                        <span id="total-points-value">0.00</span>
                    )</span>
                </span>
            </div>

            <div class="detail-item">
                <span class="detail-label">Total Referrals</span>
                <span id="total-referrals" class="detail-value">0 Users</span>
            </div>

            <div class="detail-item">
                <span class="detail-label">Country</span>
                <span id="user-country" class="detail-value">Bangladesh</span>
            </div>
            
        </div>

        <div class="card">
            <div class="title">Currency Setting</div>
            <div class="input-field">
                <label for="currency-selector-profile">Select Preferred Currency</label>
                <select id="currency-selector-profile">
                    <option value="BDT">BDT - Bangladeshi Taka (‡ß≥)</option>
                    <option value="USD">USD - US Dollar ($)</option>
                    <option value="INR">INR - Indian Rupee (‚Çπ)</option>
                    <option value="PKR">PKR - Pakistani Rupee (Rs)</option>
                </select>
            </div>
        </div>
        
        <div class="card">
            <div class="title">Convert Points to Balance</div>
            <p style="font-size: 12px; color: #e74c3c; margin-bottom: 10px;">Minimum 1000 Points required to convert.</p>
            <div class="input-field">
                <label for="points-to-convert">Points to Convert (Max: <span id="max-points">0</span>)</label>
                <input type="number" id="points-to-convert" min="1000" placeholder="Enter points (e.g., 1000)">
            </div>
            <p id="conversion-result" style="font-size: 14px; color: #6c5ce7; margin: 10px 0; text-align: center;">Conversion result will appear here.</p>
            <button id="convert-btn" class="btn btn-primary" disabled>Convert Points</button>
        </div>

        <div class="card">
            <div class="title">Other Options</div>
            <button class="btn btn-secondary" onclick="openSupport()">Support & Contact</button>
            <button class="btn btn-danger" onclick="logout()">Logout</button>
        </div>

    </div>

   <nav class="bottom-nav">
  <button class="nav-item" onclick="goToHome()">Home</button>
  <button class="nav-item" onclick="goToSupport()">Support</button>
  <button class="nav-item " onclick="goToNews()">News</button>
  <button class="nav-item"onclick="goToWithdraw()">Withdraw</button>
  <button class="nav-item active">Profile</button>
  
</nav>
    <div class="popup-overlay" id="logout-popup" style="display: none;">
        <div class="popup" style="border: 4px solid #e74c3c;">
            <i class="fas fa-exclamation-triangle" style="color: #e74c3c;"></i><br>
            <p style="font-weight: bold; margin-bottom: 15px;">Are you sure you want to log out?</p>
            <button class="btn btn-danger" onclick="confirmLogout()">Yes, Logout</button>
            <button class="btn btn-secondary" onclick="document.getElementById('logout-popup').style.display='none'">Cancel</button>
        </div>
    </div>

   <script>
    // ‡ßß. ‡¶´‡¶æ‡ßü‡¶æ‡¶∞‡¶¨‡ßá‡¶∏ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶®
    const firebaseConfig = {
        apiKey: "AIzaSyBQf-ILFW6jDV-c_O2LG6elA5oAB84p2XQ",
        authDomain: "top-news-91db8.firebaseapp.com",
        databaseURL: "https://top-news-91db8-default-rtdb.firebaseio.com",
        projectId: "top-news-91db8",
        storageBucket: "top-news-91db8.firebasestorage.app",
        messagingSenderId: "348369077928",
        appId: "1:348369077928:web:7629c503c30cbf7450649d",
        measurementId: "G-7GMX8N2NSC"
    };

    // ‡¶´‡¶æ‡ßü‡¶æ‡¶∞‡¶¨‡ßá‡¶∏ ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶≤‡¶æ‡¶á‡¶ú
    if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
    }
    const db = firebase.firestore();

    // ‡ß®. ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ì‡ßü‡ßá‡¶¨ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
    const tg = window.Telegram.WebApp;
    tg.ready();
    tg.expand();

    // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏
    const user = tg.initDataUnsafe.user;
    const userId = user?.id.toString() || 'unknown'; // ‡¶ü‡ßá‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç‡ßü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø unknown
    const userRef = db.collection('users').doc(userId);

    // ‡ß©. ‡¶ï‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏‡¶ø ‡¶∞‡ßá‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶®‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü
    const CURRENCY_RATES = {
        'BDT': { symbol: '‡ß≥', rate: 1.0 },       // ‡¶¨‡ßá‡¶∏ ‡¶ï‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏‡¶ø (1 BDT = 1 BDT)
        'USD': { symbol: '$', rate: 0.0091 },    // 1 BDT = 0.0091 USD (‡¶Ü‡¶®‡ßÅ‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï)
        'INR': { symbol: '‚Çπ', rate: 0.75 },      // 1 BDT = 0.75 INR
        'PKR': { symbol: 'Rs', rate: 2.50 }      // 1 BDT = 2.50 PKR
    };
    
    // ‡ßß‡ß¶‡ß¶‡ß¶ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü = ‡ßß‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ (BDT) - ‡¶è‡¶á ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶ß‡¶∞‡ßá ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶® ‡¶π‡¶¨‡ßá
    const POINT_TO_BDT_RATE = 10 / 1000; // ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡ß¶.‡ß¶‡ßß ‡¶ü‡¶æ‡¶ï‡¶æ
    const MIN_CONVERT_POINTS = 1000;

    // ‡ß™. ‡¶Æ‡ßá‡¶á‡¶® ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function loadProfileData() {
        // ‡¶®‡¶æ‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶õ‡¶¨‡¶ø ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ (‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶•‡ßá‡¶ï‡ßá)
        document.getElementById("profile-name").innerText = (user?.first_name || "Guest") + (user?.last_name ? " " + user.last_name : "");
        document.getElementById("profile-username").innerText = user?.username ? "@" + user.username : "N/A";
        document.getElementById("user-id").innerText = userId;
        
        if (user?.photo_url) {
            document.getElementById("profile-photo").src = user.photo_url;
        } else {
            // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶á‡¶Æ‡ßá‡¶ú
             document.getElementById("profile-photo").src = "https://ui-avatars.com/api/?name=" + (user?.first_name || "U") + "&background=random";
        }

        // ‡¶ï‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏‡¶ø ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡¶≤‡¶ú‡¶ø‡¶ï
        const currencySelector = document.getElementById("currency-selector-profile");
        
        // ‡ß´. ‡¶∞‡¶ø‡ßü‡ßá‡¶≤‡¶ü‡¶æ‡¶á‡¶Æ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞
        userRef.onSnapshot((doc) => {
            if (doc.exists) {
                const data = doc.data();
                const savedCurrency = data.currency || 'BDT';
                const balanceBDT = data.balance || 0; // ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá ‡¶∏‡¶¨ ‡¶∏‡¶Æ‡ßü BDT ‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá
                const points = data.points || 0;
                const referrals = data.referCount || 0; // ‡¶¨‡¶æ referrals

                // ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ ‡¶∏‡ßá‡¶ü
                if (document.activeElement !== currencySelector) {
                    currencySelector.value = savedCurrency;
                }

                // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
                updateDisplay(balanceBDT, points, currencySelector.value, referrals, data.country);
            } else {
                // ‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶π‡¶≤‡ßá ‡¶¨‡¶æ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá
                document.getElementById("current-balance-value").innerText = "0.00";
                document.getElementById("total-points-count").innerText = "0";
            }
        });

        // ‡¶ï‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏‡¶ø ‡¶ö‡ßá‡¶û‡ßç‡¶ú ‡¶ï‡¶∞‡¶≤‡ßá ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá ‡¶∏‡ßá‡¶≠
        currencySelector.onchange = function() {
            const newCurrency = this.value;
            // ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá ‡¶ï‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏‡¶ø ‡¶™‡ßç‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
            userRef.update({ currency: newCurrency });
            // ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞, ‡¶§‡¶æ‡¶á ‡¶∏‡ßç‡¶®‡ßç‡¶Ø‡¶æ‡¶™‡¶∂‡¶ü ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá
        };
    }

    // ‡ß¨. ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function updateDisplay(balanceBDT, points, currencyCode, referrals, country) {
        const rateData = CURRENCY_RATES[currencyCode] || CURRENCY_RATES['BDT'];
        
        // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶®
        const convertedBalance = (balanceBDT * rateData.rate).toFixed(2);
        
        // ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ (‡¶ü‡¶æ‡¶ï‡¶æ‡ßü) ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶®
        const pointsValueInBDT = points * POINT_TO_BDT_RATE;
        const pointsValueConverted = (pointsValueInBDT * rateData.rate).toFixed(2);

        // HTML ‡¶Ü‡¶™‡¶°‡ßá‡¶ü - ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏
        document.getElementById("current-balance-symbol").innerText = rateData.symbol;
        document.getElementById("current-balance-value").innerText = convertedBalance;
        document.getElementById("current-balance-code").innerText = `(${currencyCode})`;

        // HTML ‡¶Ü‡¶™‡¶°‡ßá‡¶ü - ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü
        document.getElementById("total-points-count").innerText = points;
        document.getElementById("total-points-value-symbol").innerText = rateData.symbol;
        document.getElementById("total-points-value").innerText = pointsValueConverted;

        // HTML ‡¶Ü‡¶™‡¶°‡ßá‡¶ü - ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø
        document.getElementById("total-referrals").innerText = referrals + " Users";
        document.getElementById("user-country").innerText = country || "Bangladesh";

        // ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        document.getElementById("max-points").innerText = points;
        const pointInput = document.getElementById("points-to-convert");
        pointInput.max = points; // ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ ‡¶∏‡ßá‡¶ü
    }

    // ‡ß≠. ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶≤‡¶ú‡¶ø‡¶ï
    const pointsInput = document.getElementById("points-to-convert");
    const resultDisplay = document.getElementById("conversion-result");
    const convertBtn = document.getElementById("convert-btn");

    pointsInput.oninput = function() {
        let inputPoints = parseInt(this.value) || 0;
        const maxPoints = parseInt(this.max) || 0;

        // ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®
        if (inputPoints > maxPoints) {
            inputPoints = maxPoints;
            this.value = maxPoints;
        }

        const bdtValue = inputPoints * POINT_TO_BDT_RATE;
        const currencyCode = document.getElementById("currency-selector-profile").value;
        const rateData = CURRENCY_RATES[currencyCode];
        const convertedValue = (bdtValue * rateData.rate).toFixed(2);

        resultDisplay.innerText = `You will get ${rateData.symbol}${convertedValue} (${currencyCode})`;
        
        // ‡¶¨‡¶æ‡¶ü‡¶® ‡¶è‡¶®‡¶æ‡¶¨‡¶≤/‡¶°‡¶ø‡¶ú‡ßá‡¶¨‡¶≤
        if (inputPoints >= MIN_CONVERT_POINTS && inputPoints <= maxPoints) {
            convertBtn.disabled = false;
            resultDisplay.style.color = "#6c5ce7";
        } else {
            convertBtn.disabled = true;
            resultDisplay.style.color = "#e74c3c";
            if (inputPoints > 0 && inputPoints < MIN_CONVERT_POINTS) {
                resultDisplay.innerText = `Minimum ${MIN_CONVERT_POINTS} points required.`;
            }
        }
    };

    // ‡ßÆ. ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï (‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®)
    convertBtn.onclick = async function() {
        const pointsToConvert = parseInt(pointsInput.value) || 0;

        if (pointsToConvert < MIN_CONVERT_POINTS) {
            tg.showAlert("‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡ßß‡ß¶‡ß¶‡ß¶ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡•§");
            return;
        }

        convertBtn.disabled = true;
        convertBtn.innerText = "Converting...";

        try {
            await db.runTransaction(async (transaction) => {
                const doc = await transaction.get(userRef);
                if (!doc.exists) throw "User does not exist!";

                const currentPoints = doc.data().points || 0;
                const currentBalance = doc.data().balance || 0;

                if (currentPoints < pointsToConvert) {
                    throw "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶®‡ßá‡¶á‡•§";
                }

                // ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨: ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡ßá‡¶ü‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ (BDT) ‡¶Ø‡ßã‡¶ó
                const newPoints = currentPoints - pointsToConvert;
                const amountToAddBDT = pointsToConvert * POINT_TO_BDT_RATE;
                const newBalance = currentBalance + amountToAddBDT;

                transaction.update(userRef, {
                    points: newPoints,
                    balance: newBalance
                });
            });

            tg.showAlert(`‡¶∏‡¶´‡¶≤! ${pointsToConvert} ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§`);
            pointsInput.value = "";
            resultDisplay.innerText = "Conversion successful!";
            
        } catch (error) {
            console.error("Conversion failed: ", error);
            tg.showAlert("‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá: " + error);
        } finally {
            convertBtn.innerText = "Convert Points";
            // ‡¶¨‡¶æ‡¶ü‡¶® ‡¶°‡¶ø‡¶ú‡ßá‡¶¨‡¶≤ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ‡¶Ø‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶®‡¶æ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡ßü
            convertBtn.disabled = true; 
        }
    };

    // ‡ßØ. ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶¨‡¶æ‡¶ü‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function openSupport() {
        tg.openTelegramLink("https://t.me/Headline_newsbot"); 
    }

    function logout() {
        document.getElementById("logout-popup").style.display = "flex";
    }

    function confirmLogout() {
        tg.close();
    }

    // ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶®
// üî• ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶´‡¶ø‡¶ï‡ßç‡¶∏: window.location.href ‡¶ï‡¶≤‡¶ï‡ßá setTimeout-‡¶è ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶≤‡ßã
function goToHome() { setTimeout(() => window.location.href = 'index.html', 0); }
function goToSupport() { setTimeout(() => window.location.href = 'support.html', 0); }
function goToNews() { setTimeout(() => window.location.href = 'news.html', 0); } // ‡¶®‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶¨‡¶æ‡¶®‡¶æ‡¶® ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá
function goToWithdraw() { setTimeout(() => window.location.href = 'withdraw.html', 0); }
function goToProfile() { setTimeout(() => window.location.href = 'profile.html', 0); }
// üî• ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶´‡¶ø‡¶ï‡ßç‡¶∏ ‡¶∂‡ßá‡¶∑
    
    const bottomNav = document.querySelector('.bottom-nav');
const inputFields = document.querySelectorAll('input, textarea'); // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã

inputFields.forEach(input => {
  input.addEventListener('focus', () => {
    // ‡¶ï‡ßÄ‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶ñ‡ßÅ‡¶≤‡¶õ‡ßá, ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶∞ ‡¶≤‡ßÅ‡¶ï‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶® ‡¶¨‡¶æ ‡¶®‡¶ø‡¶ö‡ßá ‡¶®‡¶æ‡¶Æ‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶®
    bottomNav.style.display = 'none'; // ‡¶Ö‡¶•‡¶¨‡¶æ bottomNav.style.transform = 'translateY(100%)'; 
  });

  input.addEventListener('blur', () => {
    // ‡¶ï‡ßÄ‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶ö‡ßç‡¶õ‡ßá, ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
    bottomNav.style.display = 'flex'; // ‡¶¨‡¶æ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã transform: 'translateY(0)';
  });
});


    // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡ßã‡¶°
    document.addEventListener('DOMContentLoaded', loadProfileData);

</script>


</body>
</html>
